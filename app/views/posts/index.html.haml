%h1 Posts
%table.table.is-striped
  %thead
    %tr
      %th{:scope => "col"} #
      %th{:scope => "col"} Titulo
      %th{:scope => "col"} Descrição
      %th{:scope => "col"} Autor
      %th{:scope => "col"} Quantidade de curtidas
      %th{:scope => "col"} Quantidade de comentários
      %th{:scope => "col"} Ações
  %tbody
    - @posts.each do |post|
      %tr
        %td= post.id
        %td= post.title
        %td= post.description
        %td= post.user.email
        %td= "#{post.likes.length} Curtidas"
        %td= link_to "#{post.comments.length} Comentários", post_comments_path(post_id: post.id)
        %td
          %span
          - if liked? post.likes
            = button_to 'Descurtir', root_url + "posts/#{post.id}/likes", method: :post
          - else
            = button_to 'Curtir', root_url + "posts/#{post.id}/likes", method: :post
            
          = link_to 'Comentar', post_comments_new_path(post_id: post.id)
